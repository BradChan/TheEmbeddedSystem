===========================
 思考题
===========================

1. CAN总线和很多种现代无线电通讯采用CDMA/CA(免碰撞的载波侦测多路访问)机制来仲裁多个网络节点如何抢占总线(或信道)，也有一些网络接口(如Ethernet)使用CDMA/CD(支持碰撞检测的载波侦测多路访问)机制来仲裁总线占用。请查阅资料对比这两种机制的区别和优缺点。
2. CAN总线的消息传输优先权由消息ID值确定，因此传输消息ID的阶段也称作仲裁阶段。请根据CAN总线范畴的显性位和隐性位的概念，以两个不同的消息ID为例简述CAN总线的仲裁阶段工作原理。
3. 对比第8.2节的CAN2.0A、CAN2.0B和CAN FD等三种协议数据帧的信息域变化，请说明CAN2.0B相较于CAN2.0A提升了哪些性能？ CAN FD相较于CAN2.0B提升了哪些性能？
4. CAN总线物理层和RS485都是用一对双绞线作为介质且都采用差分信号传输信息，但是两种通讯接口的物理层收发器并不通用，这是为什么？
5. CAN总线物理层、RS485等差分传输线都需要使用120欧姆的终端电阻，请简要说明原因。
6. 假设某CAN2.0B总线上有3个节点同时需要发送消息，消息ID都是采用11位，ID分别为0x7F0、0x3F4、0x481，请问这三个消息谁最先发送成功，谁最后发送成功？请说明原因。
7. 使用互联网搜索引擎查询外置的CAN协议控制器，并根据CAN2.0A/B和CAN FD的标准进行分类，再根据与主MCU/SoC接口的标准进行分类。查询片上带有CAN协议控制器的MCU/SoC，并根据CAN2.0A/B和CAN FD的标准进行分类进行分类。
8. 如果某种MCU片上没有CAN协议控制器，但是系统需要CAN FD通讯接口，请根据CAN总线节点的软硬件设计模型(图8.13)为其设计CAN FD部分的功能拓展接口电路(绘制电路原理图)，并简述其工作原理。
9. 如果某种MCU片上带有CAN 2.0B协议控制器，但无CAN总线收发器，且已知这种MCU的I/O电源域的工作电压为1.8V，请根据CAN总线节点的软硬件设计模型(图8.13)为其设计CAN 2.0B部分的功能拓展接口电路(绘制电路原理图)，并简述其工作原理。
10. 请为农用大棚设计一种基于CAN总线的分布式系统，包括内外环境温度、湿度和光照的监测，以及加热(电阻型加热器)、喷淋(电动阀门)、通风(可调速风扇)和照明(可调亮度LED阵列)等控制。首先定义每个CAN节点的功能和节点之间联动逻辑，以及CAN消息ID的分配，然后使用BlueFi和IoT模块分别模拟各个功能节点，请给出每种节点的程序代码和流程图。
11. 某桥梁上需要布置20个振动监测点，每个监测点安装一个100Hz采样率的3轴加速度传感器，所有监测点的瞬时加速度值都必须汇总到主控制器一起保存，每组测量数据都必须保持同步，记录每组数据时也记录时间戳以便于后期的桥梁模态分析。请设计这样的监测系统，给出具体的原理性设计和网络拓扑，网络节点功能结构图等，以及系统的详细工作过程。
